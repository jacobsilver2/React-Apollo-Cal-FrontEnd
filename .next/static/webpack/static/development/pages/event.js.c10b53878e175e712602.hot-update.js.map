{"version":3,"file":"static/webpack/static/development/pages/event.js.c10b53878e175e712602.hot-update.js","sources":["webpack:///./components/DeleteEvent.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag'; \nimport Router from 'next/router';\nimport { ALL_EVENTS_QUERY } from './Calendar';\n\nconst DELETE_EVENT_MUTATION = gql`\n  mutation DELETE_EVENT_MUTATION($id: ID!) {\n    deleteEvent(id: $id) {\n      id\n    }\n  }\n`;\n\nclass DeleteEvent extends Component {\n  update = (cache, update) => {\n    // manually update the cache on the client, so it matches the server\n\n    // 1. Read the items in the cache\n    const data = cache.readQuery({ query: ALL_EVENTS_QUERY })\n    console.log(data)\n  }\n  render() {\n    return (\n      <Mutation mutation={DELETE_EVENT_MUTATION} update={this.update} variables={{id: this.props.id} }>\n        {(deleteEvent, {error}) => (\n          <button onClick={() => {\n            if(confirm(\"Are you sure you want to delete this event?\")) {\n              deleteEvent();\n              Router.push({\n                pathname: '/'\n              })\n            }\n          }}>{this.props.children}</button>\n        )\n        }\n      </Mutation>\n    );\n  }\n}\n\nexport { DELETE_EVENT_MUTATION }\nexport default DeleteEvent;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAOA;;;;;;;;;;;;;;;;;;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAaA;;;;AAxBA;AACA;AA0BA;AACA;;;;A","sourceRoot":""}